/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import "reflect-metadata";
/** @type {?} */
export const METADATA_KEY_SERIALIZABLE = "SERIALIZABLE";
/**
 * @record
 */
export function SerializableProperty() { }
if (false) {
    /** @type {?} */
    SerializableProperty.prototype.key;
    /** @type {?} */
    SerializableProperty.prototype.name;
}
/**
 * @param {?=} name
 * @return {?}
 */
export function serializable(name) {
    return (/**
     * @param {?} target
     * @param {?} key
     * @return {?}
     */
    function (target, key) {
        Reflect.defineMetadata(METADATA_KEY_SERIALIZABLE, { key: key, name: name || key }, target, key);
    });
}
/**
 * @param {?} target
 * @return {?}
 */
export function getSerializables(target) {
    /** @type {?} */
    let serializables = [];
    for (let key in target) {
        /** @type {?} */
        let metadata = Reflect.getMetadata(METADATA_KEY_SERIALIZABLE, target, key);
        if (metadata) {
            serializables.push(metadata);
        }
    }
    return serializables;
}
/**
 * @param {?} target
 * @param {?=} prototype
 * @return {?}
 */
export function serialize(target, prototype) {
    return getSerializables(prototype || target).reduce((/**
     * @param {?} prev
     * @param {?} prop
     * @return {?}
     */
    (prev, prop) => {
        prev[prop.name] = target[prop.key];
        return prev;
    }), {});
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXphYmxlLmRlY29yYXRvci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZy1keW5hbWljLWZvcm1zL2NvcmUvIiwic291cmNlcyI6WyJsaWIvZGVjb3JhdG9yL3NlcmlhbGl6YWJsZS5kZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sa0JBQWtCLENBQUM7O0FBSTFCLE1BQU0sT0FBTyx5QkFBeUIsR0FBRyxjQUFjOzs7O0FBRXZELDBDQUlDOzs7SUFGRyxtQ0FBWTs7SUFDWixvQ0FBYTs7Ozs7O0FBR2pCLE1BQU0sVUFBVSxZQUFZLENBQUMsSUFBYTtJQUV0Qzs7Ozs7SUFBTyxVQUFVLE1BQU0sRUFBRSxHQUFHO1FBQ3hCLE9BQU8sQ0FBQyxjQUFjLENBQUMseUJBQXlCLEVBQUUsRUFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksR0FBRyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2xHLENBQUMsRUFBQztBQUNOLENBQUM7Ozs7O0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFDLE1BQVc7O1FBRXBDLGFBQWEsR0FBRyxFQUFFO0lBRXRCLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxFQUFFOztZQUVoQixRQUFRLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDO1FBRTFFLElBQUksUUFBUSxFQUFFO1lBQ1YsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNoQztLQUNKO0lBRUQsT0FBTyxhQUFhLENBQUM7QUFDekIsQ0FBQzs7Ozs7O0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxNQUFXLEVBQUUsU0FBZTtJQUVsRCxPQUFPLGdCQUFnQixDQUFDLFNBQVMsSUFBSSxNQUFNLENBQUMsQ0FBQyxNQUFNOzs7OztJQUFDLENBQUMsSUFBUyxFQUFFLElBQTBCLEVBQUUsRUFBRTtRQUUxRixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFbkMsT0FBTyxJQUFJLENBQUM7SUFFaEIsQ0FBQyxHQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcInJlZmxlY3QtbWV0YWRhdGFcIjtcblxuZGVjbGFyZSBsZXQgUmVmbGVjdDogYW55O1xuXG5leHBvcnQgY29uc3QgTUVUQURBVEFfS0VZX1NFUklBTElaQUJMRSA9IFwiU0VSSUFMSVpBQkxFXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXphYmxlUHJvcGVydHkge1xuXG4gICAga2V5OiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXphYmxlKG5hbWU/OiBzdHJpbmcpOiAodGFyZ2V0OiBhbnksIGtleTogc3RyaW5nKSA9PiB2b2lkIHtcblxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShNRVRBREFUQV9LRVlfU0VSSUFMSVpBQkxFLCB7a2V5OiBrZXksIG5hbWU6IG5hbWUgfHwga2V5fSwgdGFyZ2V0LCBrZXkpO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJpYWxpemFibGVzKHRhcmdldDogYW55KTogU2VyaWFsaXphYmxlUHJvcGVydHlbXSB7XG5cbiAgICBsZXQgc2VyaWFsaXphYmxlcyA9IFtdO1xuXG4gICAgZm9yIChsZXQga2V5IGluIHRhcmdldCkge1xuXG4gICAgICAgIGxldCBtZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoTUVUQURBVEFfS0VZX1NFUklBTElaQUJMRSwgdGFyZ2V0LCBrZXkpO1xuXG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgc2VyaWFsaXphYmxlcy5wdXNoKG1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzZXJpYWxpemFibGVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKHRhcmdldDogYW55LCBwcm90b3R5cGU/OiBhbnkpOiBPYmplY3Qge1xuXG4gICAgcmV0dXJuIGdldFNlcmlhbGl6YWJsZXMocHJvdG90eXBlIHx8IHRhcmdldCkucmVkdWNlKChwcmV2OiBhbnksIHByb3A6IFNlcmlhbGl6YWJsZVByb3BlcnR5KSA9PiB7XG5cbiAgICAgICAgcHJldltwcm9wLm5hbWVdID0gdGFyZ2V0W3Byb3Aua2V5XTtcblxuICAgICAgICByZXR1cm4gcHJldjtcblxuICAgIH0sIHt9KTtcbn1cbiJdfQ==