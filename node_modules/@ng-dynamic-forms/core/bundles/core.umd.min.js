!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("reflect-metadata"),require("rxjs/operators"),require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ng-dynamic-forms/core",["exports","rxjs","reflect-metadata","rxjs/operators","@angular/core","@angular/forms","@angular/common"],e):e(((t=t||self).ngDynamicForms=t.ngDynamicForms||{},t.ngDynamicForms.core={}),t.rxjs,null,t.rxjs.operators,t.ng.core,t.ng.forms,t.ng.common)}(this,function(t,e,o,n,r,i,a){"use strict";var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function p(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var l=function(){return(l=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function u(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}function y(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=i["return"])&&o.call(i)}finally{if(r)throw r.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function h(t){return"boolean"==typeof t}function m(t){return"function"==typeof t}function g(t){return"number"==typeof t}function v(t){return"object"==typeof t&&null!==t}function _(t){return"string"==typeof t}var O=function(){function t(t,e){this.layoutService=t,this.validationService=e,this._hasFocus=!1}return Object.defineProperty(t.prototype,"control",{get:function(){var t=this.group.get(this.model.id);if(null===t)throw new Error("form group does not contain an abstract control with id "+this.model.id);return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementId",{get:function(){return this.layoutService.getElementId(this.model)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorMessages",{get:function(){return this.validationService.createErrorMessages(this.control,this.model)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this._hasFocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrorMessages",{get:function(){return this.model.hasErrorMessages&&this.control.touched&&!this.hasFocus&&this.isInvalid},enumerable:!0,configurable:!0}),t.prototype.getClass=function(t,e,o){void 0===o&&(o=this.model);var n=this.layoutService.findByModel(o,this.layout)||o.layout;return this.layoutService.getClass(n,t,e)},t.prototype.onBlur=function(t){t instanceof Event&&t.stopPropagation(),this._hasFocus=!1,this.blur.emit(t)},t.prototype.onChange=function(t){t instanceof Event&&t.stopPropagation(),this.change.emit(t)},t.prototype.onEmbeddedCheckboxChange=function(t,e){this.onChange(t),e.value=t.target.checked},t.prototype.onCustomEvent=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=!1);var n=this.customEvent;o?n.emit(t):_(e)&&n.emit({customEvent:t,customEventType:e})},t.prototype.onFocus=function(t){t instanceof Event&&t.stopPropagation(),this._hasFocus=!0,this.focus.emit(t)},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"array",{get:function(){return this.control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTemplate",{get:function(){return this.layoutService.getStartTemplate(this.model,this.templates)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTemplate",{get:function(){return this.layoutService.getEndTemplate(this.model,this.templates)},enumerable:!0,configurable:!0}),e}(O),A={Blur:"blur",Change:"change",Custom:"custom",Focus:"focus"};function b(t){return v(t)&&t.hasOwnProperty("$event")}var L=function(){function t(t,e){this.formService=t,this.layoutService=e}return t.prototype.trackByFn=function(t,e){return e.id},t.prototype.getClass=function(t,e,o){var n=this.layoutService.findByModel(t,this.formLayout)||t.layout;return this.layoutService.getClass(n,e,o)},t.prototype.onEvent=function(t,e){switch(e){case A.Blur:this.blur.emit(t);break;case A.Change:this.change.emit(t);break;case A.Focus:this.focus.emit(t);break;case A.Custom:this.customEvent.emit(t)}},t}(),E="SERIALIZABLE";function T(t){return function(e,o){Reflect.defineMetadata(E,{key:o,name:t||o},e,o)}}function C(t){var e=[];for(var o in t){var n=Reflect.getMetadata(E,t,o);n&&e.push(n)}return e}function F(t,e){return C(e||t).reduce(function(e,o){return e[o.name]=t[o.key],e},{})}var D=function(){function t(t,o){var n=this;void 0===o&&(o=null),this.parent=null,this.asyncValidators=t.asyncValidators||null,this.errorMessages=t.errorMessages||null,this.hidden=!!h(t.hidden)&&t.hidden,this.id=t.id,this.label=t.label||null,this.labelTooltip=t.labelTooltip||null,this.controlTooltip=t.controlTooltip||null,this.layout=o,this.name=t.name||t.id,this.relations=Array.isArray(t.relations)?t.relations:[],this.updateOn=_(t.updateOn)?t.updateOn:null,this.validators=t.validators||null,this.disabled$=new e.BehaviorSubject(!!h(t.disabled)&&t.disabled),this.disabled$.subscribe(function(t){return n._disabled=t}),this.disabledChanges=this.disabled$.asObservable()}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this.disabled$.getValue()},set:function(t){this.disabled$.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasErrorMessages",{get:function(){return v(this.errorMessages)},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return F(this)},u([T(),c("design:type",Object)],t.prototype,"asyncValidators",void 0),u([T("disabled"),c("design:type",Boolean)],t.prototype,"_disabled",void 0),u([T(),c("design:type",Object)],t.prototype,"errorMessages",void 0),u([T(),c("design:type",Boolean)],t.prototype,"hidden",void 0),u([T(),c("design:type",String)],t.prototype,"id",void 0),u([T(),c("design:type",String)],t.prototype,"label",void 0),u([T(),c("design:type",String)],t.prototype,"labelTooltip",void 0),u([T(),c("design:type",String)],t.prototype,"controlTooltip",void 0),u([T(),c("design:type",Object)],t.prototype,"layout",void 0),u([T(),c("design:type",String)],t.prototype,"name",void 0),u([T(),c("design:type",Array)],t.prototype,"relations",void 0),u([T(),c("design:type",String)],t.prototype,"updateOn",void 0),u([T(),c("design:type",Object)],t.prototype,"validators",void 0),t}(),R=function(t){function o(o,n){var r=t.call(this,o,n)||this;return r.additional=v(o.additional)?o.additional:null,r.hint=o.hint||null,r.required=!!h(o.required)&&o.required,r.tabIndex=o.tabIndex||null,r.value$=new e.BehaviorSubject(null!==o.value&&o.value!==undefined?o.value:null),r.value$.subscribe(function(t){return r._value=t}),r.valueChanges=r.value$.asObservable(),r}return p(o,t),Object.defineProperty(o.prototype,"value",{get:function(){return this.value$.getValue()},set:function(t){this.value$.next(t)},enumerable:!0,configurable:!0}),o.prototype.getAdditional=function(t,e){return void 0===e&&(e=undefined),null!==this.additional&&this.additional.hasOwnProperty(t)?this.additional[t]:e},u([T(),c("design:type",Object)],o.prototype,"additional",void 0),u([T(),c("design:type",String)],o.prototype,"hint",void 0),u([T(),c("design:type",Boolean)],o.prototype,"required",void 0),u([T(),c("design:type",Number)],o.prototype,"tabIndex",void 0),u([T("value"),c("design:type",Object)],o.prototype,"_value",void 0),o}(D),N=function(){function t(t,e,o){void 0===e&&(e=[]),void 0===o&&(o=-1),this.$implicit=this,this.context=t,this.group=e,this.index=o}return Object.defineProperty(t.prototype,"parent",{get:function(){return this.context},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this.group[t]},t.prototype.toJSON=function(){return F(this)},u([T(),c("design:type",Array)],t.prototype,"group",void 0),u([T(),c("design:type",Number)],t.prototype,"index",void 0),t}(),S="ARRAY",M=function(t){function e(e,o){var n=t.call(this,e,o)||this;if(n.groups=[],n.type=S,!m(e.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(n.groupFactory=e.groupFactory,n.groupAsyncValidators=e.groupAsyncValidators||null,n.groupPrototype=n.groupFactory(),n.groupValidators=e.groupValidators||null,n.initialCount=g(e.initialCount)?e.initialCount:1,Array.isArray(e.groups))e.groups.forEach(function(t,e){n.groups.push(new N(n,t.group,t.index||e))});else for(var r=0;r<n.initialCount;r++)n.addGroup();return n}return p(e,t),e.prototype.updateGroupIndex=function(){this.groups.forEach(function(t,e){return t.index=e})},Object.defineProperty(e.prototype,"size",{get:function(){return this.groups.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){return this.groups[t]},e.prototype.addGroup=function(){return this.insertGroup(this.groups.length)},e.prototype.insertGroup=function(t){var e=new N(this,this.groupFactory());return this.groups.splice(t,0,e),this.updateGroupIndex(),e},e.prototype.moveGroup=function(t,e){var o;(o=this.groups).splice.apply(o,f([t+e,0],this.groups.splice(t,1))),this.updateGroupIndex()},e.prototype.removeGroup=function(t){this.groups.splice(t,1),this.updateGroupIndex()},e.prototype.clear=function(){this.groups.splice(0),this.updateGroupIndex()},u([T(),c("design:type",Object)],e.prototype,"groupAsyncValidators",void 0),u([T(),c("design:type",Object)],e.prototype,"groupValidators",void 0),u([T(),c("design:type",Array)],e.prototype,"groups",void 0),u([T(),c("design:type",Number)],e.prototype,"initialCount",void 0),u([T(),c("design:type",Array)],e.prototype,"groupPrototype",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(D),P=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.labelPosition=e.labelPosition||null,n.checked=!!h(n.value)&&n.value,n}return p(e,t),Object.defineProperty(e.prototype,"checked",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){this.checked=!this.checked},u([T(),c("design:type",String)],e.prototype,"labelPosition",void 0),e}(R),x="CHECKBOX",U=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=x,n.indeterminate=!!h(e.indeterminate)&&e.indeterminate,n}return p(e,t),u([T(),c("design:type",Boolean)],e.prototype,"indeterminate",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(P),w="on",j=["billing","shipping"],Y=["fax","home","mobile","pager","work"],V=["street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","username","new-password","current-password","organization-title","organization","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo"],k=["tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"];var B=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.autoComplete=e.autoComplete||w,n.autoFocus=!!h(e.autoFocus)&&e.autoFocus,n.maxLength=g(e.maxLength)?e.maxLength:null,n.minLength=g(e.minLength)?e.minLength:null,n.placeholder=e.placeholder||"",n.prefix=e.prefix||null,n.readOnly=!!h(e.readOnly)&&e.readOnly,n.spellCheck=!!h(e.spellCheck)&&e.spellCheck,n.suffix=e.suffix||null,n}return p(e,t),u([T(),c("design:type",String)],e.prototype,"autoComplete",void 0),u([T(),c("design:type",Boolean)],e.prototype,"autoFocus",void 0),u([T(),c("design:type",Number)],e.prototype,"maxLength",void 0),u([T(),c("design:type",Number)],e.prototype,"minLength",void 0),u([T(),c("design:type",String)],e.prototype,"placeholder",void 0),u([T(),c("design:type",String)],e.prototype,"prefix",void 0),u([T(),c("design:type",Boolean)],e.prototype,"readOnly",void 0),u([T(),c("design:type",Boolean)],e.prototype,"spellCheck",void 0),u([T(),c("design:type",String)],e.prototype,"suffix",void 0),e}(R);function G(t){return _(t)?t:t instanceof RegExp?t.toString():Array.isArray(t)?t.map(function(t){return G(t)}):null}function H(t){return _(t)?t.startsWith("/")&&t.endsWith("/")?new RegExp(t.slice(1,t.length-1)):t:Array.isArray(t)?t.map(function(t){return H(t)}):null}function $(t,e){return _(e)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test(e)?new Date(e):e}var K="INPUT",z="text",X=function(t){function o(e,o){var n=t.call(this,e,o)||this;return n.files=null,n.list$=null,n._list=null,n._listId=null,n.type=K,n.accept=e.accept||null,n.inputType=e.inputType||z,n.mask=e.mask||null,n.max=e.max!==undefined?e.max:null,n.min=e.min!==undefined?e.min:null,n.multiple=h(e.multiple)?e.multiple:null,n.pattern=e.pattern||null,n.step=g(e.step)?e.step:null,e.list!==undefined&&(n.list=e.list,n._listId=n.id+"List"),n}return p(o,t),Object.defineProperty(o.prototype,"listId",{get:function(){return this._listId},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasList",{get:function(){return e.isObservable(this.list$)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"list",{set:function(t){var o=this;Array.isArray(t)?(this._list=t,this.list$=e.of(this._list)):e.isObservable(t)?this.list$=t.pipe(n.tap(function(t){return o._list=t})):(this._list=null,this.list$=null)},enumerable:!0,configurable:!0}),o.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return null!==this.mask&&(this.mask instanceof Function?e.mask=this.mask:e.mask=G(this.mask)),e},u([T(),c("design:type",String)],o.prototype,"accept",void 0),u([T(),c("design:type",String)],o.prototype,"inputType",void 0),u([T(),c("design:type",Object)],o.prototype,"mask",void 0),u([T(),c("design:type",Object)],o.prototype,"max",void 0),u([T(),c("design:type",Object)],o.prototype,"min",void 0),u([T(),c("design:type",Boolean)],o.prototype,"multiple",void 0),u([T(),c("design:type",String)],o.prototype,"pattern",void 0),u([T(),c("design:type",Number)],o.prototype,"step",void 0),u([T("list"),c("design:type",Array)],o.prototype,"_list",void 0),u([T(),c("design:type",String)],o.prototype,"type",void 0),o}(B),W=function(){function t(t,e,o,n,r){this.componentFactoryResolver=t,this.layoutService=e,this.validationService=o,this.componentService=n,this.relationService=r,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}return t.prototype.ngOnChanges=function(t){var e,o=this,n=t.group,r=t.model;if(r&&(this.destroyFormControlComponent(),this.createFormControlComponent()),(n||r)&&this.model){if(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(function(t){return o.onControlValueChanges(t)}))),this.subscriptions.push(this.model.disabledChanges.subscribe(function(t){return o.onModelDisabledUpdates(t)})),this.model instanceof R){var i=this.model;this.subscriptions.push(i.valueChanges.subscribe(function(t){return o.onModelValueUpdates(t)}))}this.model.relations.length>0&&(e=this.subscriptions).push.apply(e,f(this.relationService.subscribeRelations(this.model,this.group,this.control)))}},t.prototype.ngOnDestroy=function(){this.destroyFormControlComponent(),this.unsubscribe()},Object.defineProperty(t.prototype,"errorMessages",{get:function(){return this.validationService.createErrorMessages(this.control,this.model)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasHint",{get:function(){return _(this.model.hint)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hint",{get:function(){return this.model.hint||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasLabel",{get:function(){return _(this.model.label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCheckbox",{get:function(){return this.model.type===x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementId",{get:function(){return this.layoutService.getElementId(this.model)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInvalid",{get:function(){return this.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrorMessages",{get:function(){return this.model.hasErrorMessages&&this.control.touched&&!this.hasFocus&&this.isInvalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"templates",{get:function(){return this.inputTemplateList!==undefined?this.inputTemplateList:this.contentTemplateList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startTemplate",{get:function(){return this.model.type!==S?this.layoutService.getStartTemplate(this.model,this.templates):undefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endTemplate",{get:function(){return this.model.type!==S?this.layoutService.getEndTemplate(this.model,this.templates):undefined},enumerable:!0,configurable:!0}),t.prototype.getClass=function(t,e,o){void 0===o&&(o=this.model);var n=this.layoutService.findByModel(o,this.layout)||o.layout;return this.layoutService.getClass(n,t,e)},t.prototype.createFormControlComponent=function(){var t=this,e=this.componentType;if(null!==e){var o=this.componentFactoryResolver.resolveComponentFactory(e);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(o);var n=this.componentRef.instance;n.group=this.group,n.layout=this.layout,n.model=this.model,this.templates&&(n.templates=this.templates),this.componentSubscriptions.push(n.blur.subscribe(function(e){return t.onBlur(e)})),this.componentSubscriptions.push(n.change.subscribe(function(e){return t.onChange(e)})),this.componentSubscriptions.push(n.focus.subscribe(function(e){return t.onFocus(e)})),n.customEvent!==undefined&&this.componentSubscriptions.push(n.customEvent.subscribe(function(e){return t.onCustomEvent(e)})),this.registerComponentRef(this.componentRef)}},t.prototype.destroyFormControlComponent=function(){this.componentRef&&(this.componentSubscriptions.forEach(function(t){return t.unsubscribe()}),this.componentSubscriptions=[],this.unregisterComponentRef(),this.componentRef.destroy())},t.prototype.createDynamicFormControlEvent=function(t,e){return{$event:t,context:this.context,control:this.control,group:this.group,model:this.model,type:e}},t.prototype.unsubscribe=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions=[]},t.prototype.onControlValueChanges=function(t){this.model instanceof R&&this.model.value!==t&&(this.model.value=t)},t.prototype.onModelValueUpdates=function(t){this.control.value!==t&&this.control.setValue(t)},t.prototype.onModelDisabledUpdates=function(t){t?this.control.disable():this.control.enable()},t.prototype.onChange=function(t){if(t instanceof Event){if(this.model.type===K){var e=this.model;if("file"===e.inputType){var o=t.target||t.srcElement;e.files=o.files}}this.change.emit(this.createDynamicFormControlEvent(t,A.Change))}else b(t)?this.change.emit(t):this.change.emit(this.createDynamicFormControlEvent(t,A.Change))},t.prototype.onBlur=function(t){b(t)?this.blur.emit(t):(this.hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(t,A.Blur)))},t.prototype.onFocus=function(t){b(t)?this.focus.emit(t):(this.hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(t,A.Focus)))},t.prototype.onCustomEvent=function(t){var e=this.customEvent;b(t)?e.emit(t):e.emit(this.createDynamicFormControlEvent(t.customEvent,t.customEventType))},t.prototype.registerComponentRef=function(t){var e;this.context instanceof N&&(e=this.context.index),this.componentService.registerFormControlRef(this.model,t,e)},t.prototype.unregisterComponentRef=function(){var t;this.context instanceof N&&(t=this.context.index),this.componentService.unregisterFormControlRef(this.model.id,t)},t}(),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.ngAfterViewInit=function(){var t=this;this.layoutService.filterTemplatesByModel(this.model,this.templates).forEach(function(e){return t.bindTemplate(e)})},e.prototype.bindTemplate=function(t){if(_(t.as)&&this.templateDirectives.has(t.as)){var e=this.templateDirectives.get(t.as);this.viewChild[e]=this.mapTemplate(t)}},e}(O),J=function(){function t(t,e){this.elementRef=t,this.renderer=e}return t.prototype.ngAfterViewInit=function(){this.dynamicId&&this.renderer.setAttribute(this.elementRef.nativeElement,"id",this.dynamicId)},t.decorators=[{type:r.Directive,args:[{selector:"[dynamicId]"}]}],t.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2}]},t.propDecorators={dynamicId:[{type:r.Input}]},t}(),Q=function(){function t(t,e){this.elementRef=t,this.renderer=e}return t.prototype.ngAfterViewInit=function(){_(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)},t.decorators=[{type:r.Directive,args:[{selector:"[dynamicList]"}]}],t.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2}]},t.propDecorators={listId:[{type:r.Input,args:["dynamicList"]}]},t}(),Z={Start:"START",End:"END"},tt=function(){function t(t){this.templateRef=t,this.align=Z.End,this.as=null}return t.decorators=[{type:r.Directive,args:[{selector:"ng-template[modelId],ng-template[modelType]"}]}],t.ctorParameters=function(){return[{type:r.TemplateRef}]},t.propDecorators={align:[{type:r.Input}],as:[{type:r.Input}],index:[{type:r.Input}],modelId:[{type:r.Input}],modelType:[{type:r.Input}]},t}(),et=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.format=e.format||null,n.max=e.max||null,n.min=e.min||null,n.placeholder=e.placeholder||null,n}return p(e,t),u([T(),c("design:type",String)],e.prototype,"format",void 0),u([T(),c("design:type",Object)],e.prototype,"max",void 0),u([T(),c("design:type",Object)],e.prototype,"min",void 0),u([T(),c("design:type",String)],e.prototype,"placeholder",void 0),e}(R),ot=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.multiple=!!h(e.multiple)&&e.multiple,n}return p(e,t),u([T(),c("design:type",Boolean)],e.prototype,"multiple",void 0),e}(R),nt=function(){function t(t){this.disabled=!!h(t.disabled)&&t.disabled,this.label=t.label||null,this.value=t.value}return Object.defineProperty(t.prototype,"text",{get:function(){return this.label},set:function(t){this.label=t},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return F(this)},u([T(),c("design:type",Boolean)],t.prototype,"disabled",void 0),u([T(),c("design:type",String)],t.prototype,"label",void 0),u([T(),c("design:type",Object)],t.prototype,"value",void 0),t}(),rt=function(t){function o(e,o){var n=t.call(this,e,o)||this;return n._options=[],n.options=e.options,n}return p(o,t),o.prototype.updateOptions$=function(){this.options$=e.of(this.options)},Object.defineProperty(o.prototype,"options",{get:function(){return this._options},set:function(t){var o=this;Array.isArray(t)?(this._options=t.map(function(t){return new nt(t)}),this.updateOptions$()):e.isObservable(t)?this.options$=t.pipe(n.map(function(t){var e=t.map(function(t){return new nt(t)});return o._options=e,e})):this.updateOptions$()},enumerable:!0,configurable:!0}),o.prototype.add=function(t){return this.insert(this.options.length,t)},o.prototype.get=function(t){return this.options[t]},o.prototype.insert=function(t,e){var o=new nt(e);return this.options.splice(t,0,o),this.updateOptions$(),o},o.prototype.remove=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];e.forEach(function(e){return t.options.splice(e,1)}),this.updateOptions$()},u([T("options"),c("design:type",Array)],o.prototype,"_options",void 0),o}(R),it="GROUP",at=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.group=[],n.type=it,n.group=Array.isArray(e.group)?e.group:[],n.legend=e.legend||null,n}return p(e,t),e.prototype.get=function(t){return this.group[t]},e.prototype.set=function(t,e){this.group[t]=e},e.prototype.add=function(t){this.group.push(t)},e.prototype.insert=function(t,e){this.group.splice(t,0,e)},e.prototype.move=function(t,e){var o;(o=this.group).splice.apply(o,f([t+e,0],this.group.splice(t,1)))},e.prototype.remove=function(t){this.group.splice(t,1)},e.prototype.size=function(){return this.group.length},u([T(),c("design:type",Array)],e.prototype,"group",void 0),u([T(),c("design:type",String)],e.prototype,"legend",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(D),st="CHECKBOX_GROUP",pt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=st,n}return p(e,t),e.prototype.check=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];e.forEach(function(e){return t.group[e].checked=!0})},e.prototype.uncheck=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];e.forEach(function(e){return t.group[e].checked=!1})},e.prototype.checkAll=function(){this.group.forEach(function(t){return t.checked=!0})},e.prototype.uncheckAll=function(){this.group.forEach(function(t){return t.checked=!1})},u([T(),c("design:type",Array)],e.prototype,"group",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(at),lt="COLORPICKER",ut=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=lt,n.format=_(e.format)?e.format:null,n.inline=!!h(e.inline)&&e.inline,n}return p(e,t),u([T(),c("design:type",String)],e.prototype,"format",void 0),u([T(),c("design:type",Boolean)],e.prototype,"inline",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(R),ct="DATEPICKER",dt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=ct,n.autoFocus=!!h(e.autoFocus)&&e.autoFocus,n.focusedDate=e.focusedDate||null,n.inline=!!h(e.inline)&&e.inline,n.prefix=e.prefix||null,n.readOnly=!!h(e.readOnly)&&e.readOnly,n.toggleIcon=_(e.toggleIcon)?e.toggleIcon:null,n.toggleLabel=_(e.toggleLabel)?e.toggleLabel:null,n.suffix=e.suffix||null,n}return p(e,t),u([T(),c("design:type",Boolean)],e.prototype,"autoFocus",void 0),u([T(),c("design:type",Object)],e.prototype,"focusedDate",void 0),u([T(),c("design:type",Boolean)],e.prototype,"inline",void 0),u([T(),c("design:type",String)],e.prototype,"prefix",void 0),u([T(),c("design:type",Boolean)],e.prototype,"readOnly",void 0),u([T(),c("design:type",String)],e.prototype,"suffix",void 0),u([T(),c("design:type",String)],e.prototype,"toggleIcon",void 0),u([T(),c("design:type",String)],e.prototype,"toggleLabel",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(et),yt="EDITOR",ft=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=yt,n}return p(e,t),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(B),ht="FILE_UPLOAD",mt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=ht,n.accept=Array.isArray(e.accept)?e.accept:null,n.autoUpload=!h(e.autoUpload)||e.autoUpload,n.maxSize=g(e.maxSize)?e.maxSize:null,n.minSize=g(e.minSize)?e.minSize:null,n.removeUrl=e.removeUrl||null,n.showFileList=!h(e.showFileList)||e.showFileList,n.url=e.url||null,n}return p(e,t),u([T(),c("design:type",Array)],e.prototype,"accept",void 0),u([T(),c("design:type",Boolean)],e.prototype,"autoUpload",void 0),u([T(),c("design:type",Number)],e.prototype,"maxSize",void 0),u([T(),c("design:type",Number)],e.prototype,"minSize",void 0),u([T(),c("design:type",String)],e.prototype,"removeUrl",void 0),u([T(),c("design:type",Boolean)],e.prototype,"showFileList",void 0),u([T(),c("design:type",String)],e.prototype,"url",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(ot),gt="RADIO_GROUP",vt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=gt,n.legend=e.legend||null,n}return p(e,t),e.prototype.select=function(t){this.value=this.get(t).value},u([T(),c("design:type",String)],e.prototype,"legend",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(rt),_t="RATING",Ot=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=_t,n.max=g(e.max)?e.max:10,n}return p(e,t),u([T(),c("design:type",Number)],e.prototype,"max",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(R),It="SELECT",At=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=It,n.compareWithFn=m(e.compareWithFn)?e.compareWithFn:r.ɵlooseIdentical,n.filterable=!!h(e.filterable)&&e.filterable,n.multiple=!!h(e.multiple)&&e.multiple,n.placeholder=e.placeholder||"",n.prefix=e.prefix||null,n.suffix=e.suffix||null,n}return p(e,t),e.prototype.select=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=this.multiple?e.map(function(e){return t.get(e).value}):this.get(e[0]).value;this.value=n},u([T(),c("design:type",Boolean)],e.prototype,"filterable",void 0),u([T(),c("design:type",Boolean)],e.prototype,"multiple",void 0),u([T(),c("design:type",String)],e.prototype,"placeholder",void 0),u([T(),c("design:type",String)],e.prototype,"prefix",void 0),u([T(),c("design:type",String)],e.prototype,"suffix",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(rt),bt="SLIDER",Lt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=bt,n.max=g(e.max)?e.max:10,n.min=g(e.min)?e.min:0,n.step=g(e.step)?e.step:1,n.vertical=!!h(e.vertical)&&e.vertical,n}return p(e,t),u([T(),c("design:type",Number)],e.prototype,"max",void 0),u([T(),c("design:type",Number)],e.prototype,"min",void 0),u([T(),c("design:type",Number)],e.prototype,"step",void 0),u([T(),c("design:type",Boolean)],e.prototype,"vertical",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(R),Et="SWITCH",Tt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=Et,n.offLabel=e.offLabel||null,n.onLabel=e.onLabel||null,n}return p(e,t),u([T(),c("design:type",String)],e.prototype,"offLabel",void 0),u([T(),c("design:type",String)],e.prototype,"onLabel",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(P),Ct="TEXTAREA",Ft="soft",Dt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=Ct,n.cols=g(e.cols)?e.cols:20,n.rows=g(e.rows)?e.rows:2,n.wrap=e.wrap||Ft,n}return p(e,t),u([T(),c("design:type",Number)],e.prototype,"cols",void 0),u([T(),c("design:type",Number)],e.prototype,"rows",void 0),u([T(),c("design:type",String)],e.prototype,"wrap",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(B),Rt="TIMEPICKER",Nt=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.type=Rt,n.meridian=!!h(e.meridian)&&e.meridian,n.showSeconds=!!h(e.showSeconds)&&e.showSeconds,n}return p(e,t),u([T(),c("design:type",Boolean)],e.prototype,"meridian",void 0),u([T(),c("design:type",Boolean)],e.prototype,"showSeconds",void 0),u([T(),c("design:type",String)],e.prototype,"type",void 0),e}(et),St=new r.InjectionToken("DYNAMIC_VALIDATORS"),Mt=function(){function t(t,e,o){this.NG_VALIDATORS=t,this.NG_ASYNC_VALIDATORS=e,this.DYNAMIC_VALIDATORS=o}return t.prototype.getValidatorFn=function(t,e,o){var n;if(void 0===e&&(e=null),void 0===o&&(o=this.NG_VALIDATORS),i.Validators.hasOwnProperty(t)?n=i.Validators[t]:this.DYNAMIC_VALIDATORS&&this.DYNAMIC_VALIDATORS.has(t)?n=this.DYNAMIC_VALIDATORS.get(t):o&&(n=o.find(function(e){return e.name===t})),n===undefined)throw new Error('validator "'+t+'" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS');return null!==e?n(e):n},t.prototype.getValidatorFns=function(t,e){var o=this;void 0===e&&(e=this.NG_VALIDATORS);var n=[];return v(t)&&(n=Object.keys(t).map(function(n){var r=t[n];if(o.isValidatorDescriptor(r)){var i=r;return o.getValidatorFn(i.name,i.args,e)}return o.getValidatorFn(n,r,e)})),n},t.prototype.parseErrorMessageConfig=function(t,e,o){return void 0===o&&(o=null),t.replace(/{{\s*(.+?)\s*}}/gm,function(t,n){var r=e,i=n;return n.indexOf("validator.")>=0&&o&&(r=o,i=n.replace("validator.","")),null!==r[i]&&r[i]!==undefined?r[i]:null})},t.prototype.getValidator=function(t,e){return void 0===e&&(e=null),this.getValidatorFn(t,e)},t.prototype.getAsyncValidator=function(t,e){return void 0===e&&(e=null),this.getValidatorFn(t,e,this.NG_ASYNC_VALIDATORS)},t.prototype.getValidators=function(t){return this.getValidatorFns(t)},t.prototype.getAsyncValidators=function(t){return this.getValidatorFns(t,this.NG_ASYNC_VALIDATORS)},t.prototype.updateValidators=function(t,e,o){o.validators=t,null===t?e.clearValidators():e.setValidators(this.getValidators(t)),e.updateValueAndValidity()},t.prototype.updateAsyncValidators=function(t,e,o){o.asyncValidators=t,null===t?e.clearAsyncValidators():e.setAsyncValidators(this.getAsyncValidators(t)),e.updateValueAndValidity()},t.prototype.createErrorMessages=function(t,e){var o=this,n=[];if(e.hasErrorMessages){var r=e.errorMessages;Object.keys(t.errors||{}).forEach(function(i){var a=i;if("minlength"!==i&&"maxlength"!==i||(a=a.replace("length","Length")),r.hasOwnProperty(a)){var s=t.getError(i),p=r[a];n.push(o.parseErrorMessageConfig(p,e,s))}})}return n},t.prototype.isFormHook=function(t){return _(t)&&-1!==["blur","change","submit"].indexOf(t)},t.prototype.isValidatorDescriptor=function(t){return!!v(t)&&(t.hasOwnProperty("name")&&t.hasOwnProperty("args"))},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Inject,args:[i.NG_VALIDATORS]}]},{type:Array,decorators:[{type:r.Optional},{type:r.Inject,args:[i.NG_ASYNC_VALIDATORS]}]},{type:Map,decorators:[{type:r.Optional},{type:r.Inject,args:[St]}]}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(i.NG_VALIDATORS,8),r.ɵɵinject(i.NG_ASYNC_VALIDATORS,8),r.ɵɵinject(St,8))},token:t,providedIn:"root"}),t}(),Pt=function(){function t(t){this.validationService=t}return t.prototype.createAbstractControlOptions=function(t,e,o){return void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),{asyncValidators:null!==e?this.validationService.getAsyncValidators(e):null,validators:null!==t?this.validationService.getValidators(t):null,updateOn:null!==o&&this.validationService.isFormHook(o)?o:"change"}},t.prototype.createFormArray=function(t){for(var e=[],o=this.createAbstractControlOptions(t.validators,t.asyncValidators,t.updateOn),n=0;n<t.size;n++){var r=t.get(n),a=this.createAbstractControlOptions(t.groupValidators,t.groupAsyncValidators,t.updateOn);e.push(this.createFormGroup(r.group,a,r))}return new i.FormArray(e,o)},t.prototype.createFormGroup=function(t,e,o){var n=this;void 0===e&&(e=null),void 0===o&&(o=null);var r={};return t.forEach(function(t){switch(t.parent=o,t.type){case S:r[t.id]=n.createFormArray(t);break;case it:case st:var e=t,a=n.createAbstractControlOptions(e.validators,e.asyncValidators,e.updateOn);r[t.id]=n.createFormGroup(e.group,a,e);break;default:var s=t,p={value:s.value,disabled:s.disabled},l=n.createAbstractControlOptions(s.validators,s.asyncValidators,s.updateOn);r[t.id]=new i.FormControl(p,l)}}),new i.FormGroup(r,e)},t.prototype.getPathSegment=function(t){return t instanceof N?t.index.toString():t.id},t.prototype.getPath=function(t,e){void 0===e&&(e=!1);for(var o=[this.getPathSegment(t)],n=t.parent;n;)o.unshift(this.getPathSegment(n)),n=n.parent;return e?o.join("."):o},t.prototype.addFormGroupControl=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];if(e instanceof at)this.insertFormGroupControl.apply(this,f([e.size(),t,e],o));else{var r=e;this.insertFormGroupControl.apply(this,f([r.length,t,r],o))}},t.prototype.moveFormGroupControl=function(t,e,o){if(o instanceof at)o.move(t,e);else{var n=o;n.splice.apply(n,f([t+e,0],n.splice(t,1)))}},t.prototype.insertFormGroupControl=function(t,e,o){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];var i=o instanceof at?o:null,a=this.createFormGroup(n,null,i).controls;Object.keys(a).forEach(function(r,i){var s=n[i];o instanceof at?o.insert(t,s):o.splice(t,0,s),e.addControl(r,a[r])})},t.prototype.removeFormGroupControl=function(t,e,o){o instanceof at?(e.removeControl(o.get(t).id),o.remove(t)):(e.removeControl(o[t].id),o.splice(t,1))},t.prototype.addFormArrayGroup=function(t,e){var o=e.addGroup();t.push(this.createFormGroup(o.group,null,o))},t.prototype.insertFormArrayGroup=function(t,e,o){var n=o.insertGroup(t);e.insert(t,this.createFormGroup(n.group,null,n))},t.prototype.moveFormArrayGroup=function(t,e,o,n){var r=t+e,i=e>=0;if(!(t>=0&&t<n.size&&r>=0&&r<n.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");for(var a=[],s=i?t:r;s<=(i?r:t);s++)a.push(o.at(s));a.forEach(function(e,n){var s;s=i?0===n?r:t+n-1:n===a.length-1?r:r+n+1,o.setControl(s,e)}),n.moveGroup(t,e)},t.prototype.removeFormArrayGroup=function(t,e,o){e.removeAt(t),o.removeGroup(t)},t.prototype.clearFormArray=function(t,e){t.clear(),e.clear()},t.prototype.findById=function(t,e){var o=null,n=function(t,e){var r,i;try{for(var a=d(e),s=a.next();!s.done;s=a.next()){var p=s.value;if(p.id===t){o=p;break}p instanceof at&&n(t,p.group)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}};return n(t,e),o},t.prototype.findModelById=function(t,e){return this.findById(t,e)},t.prototype.findControlByModel=function(t,e){return e.root.get(this.getPath(t,!0))},t.prototype.fromJSON=function(t){var e=this,o=_(t)?JSON.parse(t,$):t,n=[];return o.forEach(function(t){var o=t.layout||null;switch(t.type){case S:var r=t;Array.isArray(r.groups)&&r.groups.forEach(function(t){t.group=e.fromJSON(t.group)}),r.groupFactory=function(){return e.fromJSON(r.groupPrototype)},n.push(new M(t,o));break;case x:n.push(new U(t,o));break;case st:t.group=e.fromJSON(t.group),n.push(new pt(t,o));break;case lt:n.push(new ut(t,o));break;case ct:n.push(new dt(t,o));break;case yt:n.push(new ft(t,o));break;case ht:t.value=null,n.push(new mt(t,o));break;case it:t.group=e.fromJSON(t.group),n.push(new at(t,o));break;case K:var i=t;null!==i.mask&&(i.mask instanceof Function||(i.mask=H(i.mask))),n.push(new X(t,o));break;case gt:n.push(new vt(t,o));break;case _t:n.push(new Ot(t,o));break;case It:n.push(new At(t,o));break;case bt:n.push(new Lt(t,o));break;case Et:n.push(new Tt(t,o));break;case Ct:n.push(new Dt(t,o));break;case Rt:n.push(new Nt(t,o));break;default:throw new Error('unknown form control model type defined on JSON object with id "'+t.id+'"')}}),n},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Mt}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(Mt))},token:t,providedIn:"root"}),t}(),xt=new r.InjectionToken("DYNAMIC_FORM_CONTROL_MAP_FN"),Ut=function(){function t(t){this.DYNAMIC_FORM_CONTROL_MAP_FN=t,this.componentRefs={},this.DYNAMIC_FORM_CONTROL_MAP_FN=t}return t.prototype.getFormControlRef=function(t,e){var o=this.componentRefs[t];return g(e)?Array.isArray(o)?o[e]:undefined:o},t.prototype.registerFormControlRef=function(t,e,o){if(g(o)){var n=this.componentRefs[t.id]||[];Array.isArray(n)?(n.splice(o,0,e),this.componentRefs[t.id]=n):console.warn("registerFormControlRef is called with index for a non-array form control: "+t.id)}else this.componentRefs[t.id]=e},t.prototype.unregisterFormControlRef=function(t,e){var o=this.componentRefs[t];g(e)?Array.isArray(o)&&o[e]!==undefined&&o.splice(e,1):o!==undefined&&delete this.componentRefs[t]},t.prototype.getCustomComponentType=function(t){return m(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(t):null},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Inject,args:[xt]},{type:r.Optional}]}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(xt,8))},token:t,providedIn:"root"}),t}(),wt=function(){function t(){}return t.prototype.findById=function(t,e){var o,n;if(v(e))try{for(var r=d(Object.keys(e)),i=r.next();!i.done;i=r.next()){var a=i.value;if(a===t)return e[a]}}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return null},t.prototype.findByModel=function(t,e){var o,n,r=null;if(v(e)){var i=function(o){o.split(",").forEach(function(n){var i=n.trim();i!==t.id&&i!==t.type||(r=e[o])})};try{for(var a=d(Object.keys(e)),s=a.next();!s.done;s=a.next()){i(s.value)}}catch(p){o={error:p}}finally{try{s&&!s.done&&(n=a["return"])&&n.call(a)}finally{if(o)throw o.error}}}return r},t.prototype.filterTemplatesByModel=function(t,e){var o=function(e){return e.modelId===t.id||e.modelType===t.type};return e instanceof r.QueryList?e.filter(o):Array.isArray(e)?e.filter(o):[]},t.prototype.getAlignedTemplate=function(t,e,o){return this.filterTemplatesByModel(t,e).find(function(t){return null===t.as&&t.align===o})},t.prototype.getStartTemplate=function(t,e){return this.getAlignedTemplate(t,e,Z.Start)},t.prototype.getEndTemplate=function(t,e){return this.getAlignedTemplate(t,e,Z.End)},t.prototype.getClass=function(t,e,o){if(null!==t&&t.hasOwnProperty(e)){var n=t[e];if(n.hasOwnProperty(o))return n[o]}return""},t.prototype.getElementId=function(t){for(var e=t.id,o=t.parent;null!==o;){if(o instanceof N){e=o.context.id+"-"+o.index+"-"+t.id;break}o=o.parent}return e},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),jt=new r.InjectionToken("DYNAMIC_MATCHERS"),Yt={match:"DISABLED",opposingMatch:"ENABLED",onChange:function(t,e){e.disabled=t}},Vt={match:"HIDDEN",opposingMatch:"VISIBLE",onChange:function(t,e){e.hidden=t}},kt={match:"REQUIRED",opposingMatch:"OPTIONAL",onChange:function(t,e,o,n){var r=null;t?r=v(e.validators)?l({},e.validators,{required:null}):{required:null}:v(e.validators)&&(delete e.validators.required,r=l({},e.validators)),n.get(Mt).updateValidators(r,o,e)}},Bt={provide:jt,useValue:Yt,multi:!0},Gt={provide:jt,useValue:Vt,multi:!0},Ht={provide:jt,useValue:kt,multi:!0},$t=[Bt,Gt,Ht],Kt=function(){function t(t,e){this.DYNAMIC_MATCHERS=t,this.injector=e}return t.prototype.getRelatedFormControls=function(t,e){var o=function(t,o){var n=o.rootPath||o.id;if(!t.hasOwnProperty(n)){var r=o.rootPath?e.root.get(o.rootPath):e.get(o.id);r instanceof i.FormControl?t[n]=r:console.warn("No related form control with id "+o.id+" could be found")}return t};return t.relations.reduce(function(t,e){return e.when.reduce(o,t)},{})},t.prototype.findRelationByMatcher=function(t,e){return t.find(function(t){return[e.match,e.opposingMatch].includes(t.match)})},t.prototype.matchesCondition=function(t,e,o){var n=t.operator||"OR";return t.when.reduce(function(r,i,a){var s,p,l,u=i.rootPath||i.id;try{for(var c=d(Object.entries(e)),f=c.next();!f.done;f=c.next()){var h=y(f.value,2),m=h[0],g=h[1];if(m===u){l=g;break}}}catch(v){s={error:v}}finally{try{f&&!f.done&&(p=c["return"])&&p.call(c)}finally{if(s)throw s.error}}return l&&t.match===o.match?!(a>0&&"AND"===n&&!r)&&(!!(a>0&&"OR"===n&&r)||(i.value===l.value||i.status===l.status)):!(!l||t.match!==o.opposingMatch)&&(!!(a>0&&"AND"===n&&r)||!(a>0&&"OR"===n&&!r)&&!(i.value===l.value||i.status===l.status))},!1)},t.prototype.subscribeRelations=function(t,o,r){var i=this,a=this.getRelatedFormControls(t,o),s=[];return Object.values(a).forEach(function(o){var p=o.valueChanges.pipe(n.startWith(o.value)),l=o.statusChanges.pipe(n.startWith(o.status));s.push(e.merge(p,l).subscribe(function(){i.DYNAMIC_MATCHERS.forEach(function(e){var o=i.findRelationByMatcher(t.relations,e);if(o!==undefined){var n=i.matchesCondition(o,a,e);e.onChange(n,t,r,i.injector)}})}))}),s},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:r.Optional},{type:r.Inject,args:[jt]}]},{type:r.Injector}]},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t(r.ɵɵinject(jt,8),r.ɵɵinject(r.INJECTOR))},token:t,providedIn:"root"}),t}(),zt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Pt,wt,Mt,Ut,Kt]}},t.decorators=[{type:r.NgModule,args:[{imports:[a.CommonModule,i.ReactiveFormsModule],declarations:[J,Q,tt],exports:[J,Q,tt]}]}],t}();t.AND_OPERATOR="AND",t.AUTOCOMPLETE_OFF="off",t.AUTOCOMPLETE_ON=w,t.AUTOFILL_FIELDS=V,t.AUTOFILL_FIELDS_CONTACT=k,t.AUTOFILL_FIELD_ADDITIONAL_NAME="additional-name",t.AUTOFILL_FIELD_ADDRESS_LEVEL_1="address-level1",t.AUTOFILL_FIELD_ADDRESS_LEVEL_2="address-level2",t.AUTOFILL_FIELD_ADDRESS_LEVEL_3="address-level3",t.AUTOFILL_FIELD_ADDRESS_LEVEL_4="address-level4",t.AUTOFILL_FIELD_ADDRESS_LINE_1="address-line1",t.AUTOFILL_FIELD_ADDRESS_LINE_2="address-line2",t.AUTOFILL_FIELD_ADDRESS_LINE_3="address-line3",t.AUTOFILL_FIELD_BDAY="bday",t.AUTOFILL_FIELD_BDAY_DAY="bday-day",t.AUTOFILL_FIELD_BDAY_MONTH="bday-month",t.AUTOFILL_FIELD_BDAY_YEAR="bday-year",t.AUTOFILL_FIELD_CC_ADDITIONAL_NAME="cc-additional-name",t.AUTOFILL_FIELD_CC_CSC="cc-csc",t.AUTOFILL_FIELD_CC_EXP="cc-exp",t.AUTOFILL_FIELD_CC_EXP_MONTH="cc-exp-month",t.AUTOFILL_FIELD_CC_EXP_YEAR="cc-exp-year",t.AUTOFILL_FIELD_CC_FAMILY_NAME="cc-family-name",t.AUTOFILL_FIELD_CC_GIVEN_NAME="cc-given-name",t.AUTOFILL_FIELD_CC_NAME="cc-name",t.AUTOFILL_FIELD_CC_NUMBER="cc-number",t.AUTOFILL_FIELD_CC_TYPE="cc-type",t.AUTOFILL_FIELD_COUNTRY="country",t.AUTOFILL_FIELD_COUNTRY_NAME="country-name",t.AUTOFILL_FIELD_CURRENT_PASSWORD="current-password",t.AUTOFILL_FIELD_EMAIL="email",t.AUTOFILL_FIELD_FAMILY_NAME="family-name",t.AUTOFILL_FIELD_GIVEN_NAME="given-name",t.AUTOFILL_FIELD_HONORIFIC_PREFIX="honorific-prefix",t.AUTOFILL_FIELD_HONORIFIC_SUFFIX="honorific-suffix",t.AUTOFILL_FIELD_IMPP="impp",t.AUTOFILL_FIELD_LANGUAGE="language",t.AUTOFILL_FIELD_NAME="name",t.AUTOFILL_FIELD_NEW_PASSWORD="new-password",t.AUTOFILL_FIELD_NICKNAME="nickname",t.AUTOFILL_FIELD_ORGANIZATION="organization",t.AUTOFILL_FIELD_ORGANIZATION_TITLE="organization-title",t.AUTOFILL_FIELD_PHOTO="photo",t.AUTOFILL_FIELD_POSTAL_CODE="postal-code",t.AUTOFILL_FIELD_SEX="sex",t.AUTOFILL_FIELD_STREET_ADDRESS="street-address",t.AUTOFILL_FIELD_TEL="tel",t.AUTOFILL_FIELD_TEL_AREA_CODE="tel-area-code",t.AUTOFILL_FIELD_TEL_COUNTRY_CODE="tel-country-code",t.AUTOFILL_FIELD_TEL_LOCAL="tel-local",t.AUTOFILL_FIELD_TEL_LOCAL_EXTENSION="tel-extension",t.AUTOFILL_FIELD_TEL_LOCAL_PREFIX="tel-local-prefix",t.AUTOFILL_FIELD_TEL_LOCAL_SUFFIX="tel-local-suffix",t.AUTOFILL_FIELD_TEL_NATIONAL="tel-national",t.AUTOFILL_FIELD_TRANSACTION_AMOUNT="transaction-amount",t.AUTOFILL_FIELD_TRANSACTION_CURRENCY="transaction-currency",t.AUTOFILL_FIELD_URL="url",t.AUTOFILL_FIELD_USERNAME="username",t.AUTOFILL_TOKENS_ADDRESS=j,t.AUTOFILL_TOKENS_CONTACT=Y,t.AUTOFILL_TOKEN_BILLING="billing",t.AUTOFILL_TOKEN_FAX="fax",t.AUTOFILL_TOKEN_HOME="home",t.AUTOFILL_TOKEN_MOBILE="mobile",t.AUTOFILL_TOKEN_PAGER="pager",t.AUTOFILL_TOKEN_SHIPPING="shipping",t.AUTOFILL_TOKEN_WORK="work",t.DISABLED_MATCHER=Bt,t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_COLOR="color",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_DATE="date",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_DATETIME_LOCAL="datetime-local",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_EMAIL="email",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_FILE="file",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_MONTH="month",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_NUMBER="number",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_PASSWORD="password",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_RANGE="range",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_SEARCH="search",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_TEL="tel",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_TEXT=z,t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_TIME="time",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_URL="url",t.DYNAMIC_FORM_CONTROL_INPUT_TYPE_WEEK="week",t.DYNAMIC_FORM_CONTROL_MAP_FN=xt,t.DYNAMIC_FORM_CONTROL_TYPE_ARRAY=S,t.DYNAMIC_FORM_CONTROL_TYPE_CHECKBOX=x,t.DYNAMIC_FORM_CONTROL_TYPE_CHECKBOX_GROUP=st,t.DYNAMIC_FORM_CONTROL_TYPE_COLORPICKER=lt,t.DYNAMIC_FORM_CONTROL_TYPE_DATEPICKER=ct,t.DYNAMIC_FORM_CONTROL_TYPE_EDITOR=yt,t.DYNAMIC_FORM_CONTROL_TYPE_FILE_UPLOAD=ht,t.DYNAMIC_FORM_CONTROL_TYPE_GROUP=it,t.DYNAMIC_FORM_CONTROL_TYPE_INPUT=K,t.DYNAMIC_FORM_CONTROL_TYPE_RADIO_GROUP=gt,t.DYNAMIC_FORM_CONTROL_TYPE_RATING=_t,t.DYNAMIC_FORM_CONTROL_TYPE_SELECT=It,t.DYNAMIC_FORM_CONTROL_TYPE_SLIDER=bt,t.DYNAMIC_FORM_CONTROL_TYPE_SWITCH=Et,t.DYNAMIC_FORM_CONTROL_TYPE_TEXTAREA=Ct,t.DYNAMIC_FORM_CONTROL_TYPE_TIMEPICKER=Rt,t.DYNAMIC_FORM_TEXTAREA_WRAP_HARD="hard",t.DYNAMIC_FORM_TEXTAREA_WRAP_SOFT=Ft,t.DYNAMIC_MATCHERS=jt,t.DYNAMIC_MATCHER_PROVIDERS=$t,t.DYNAMIC_TEMPLATE_DIRECTIVE_ALIGNMENT=Z,t.DYNAMIC_VALIDATORS=St,t.DisabledMatcher=Yt,t.DynamicCheckControlModel=P,t.DynamicCheckboxGroupModel=pt,t.DynamicCheckboxModel=U,t.DynamicColorPickerModel=ut,t.DynamicDateControlModel=et,t.DynamicDatePickerModel=dt,t.DynamicEditorModel=ft,t.DynamicFileControlModel=ot,t.DynamicFileUploadModel=mt,t.DynamicFormArrayComponent=I,t.DynamicFormArrayGroupModel=N,t.DynamicFormArrayModel=M,t.DynamicFormComponent=L,t.DynamicFormComponentService=Ut,t.DynamicFormControlComponent=O,t.DynamicFormControlContainerComponent=W,t.DynamicFormControlEventType=A,t.DynamicFormControlModel=D,t.DynamicFormGroupModel=at,t.DynamicFormLayoutService=wt,t.DynamicFormOption=nt,t.DynamicFormRelationService=Kt,t.DynamicFormService=Pt,t.DynamicFormValidationService=Mt,t.DynamicFormValueControlModel=R,t.DynamicFormsCoreModule=zt,t.DynamicIdDirective=J,t.DynamicInputControlModel=B,t.DynamicInputModel=X,t.DynamicListDirective=Q,t.DynamicOptionControlModel=rt,t.DynamicRadioGroupModel=vt,t.DynamicRatingModel=Ot,t.DynamicSelectModel=At,t.DynamicSliderModel=Lt,t.DynamicSwitchModel=Tt,t.DynamicTemplateDirective=tt,t.DynamicTemplateableFormControlComponent=q,t.DynamicTextAreaModel=Dt,t.DynamicTimePickerModel=Nt,t.HIDDEN_MATCHER=Gt,t.HiddenMatcher=Vt,t.MATCH_DISABLED="DISABLED",t.MATCH_ENABLED="ENABLED",t.MATCH_HIDDEN="HIDDEN",t.MATCH_OPTIONAL="OPTIONAL",t.MATCH_REQUIRED="REQUIRED",t.MATCH_VISIBLE="VISIBLE",t.METADATA_KEY_SERIALIZABLE=E,t.OR_OPERATOR="OR",t.REQUIRED_MATCHER=Ht,t.RequiredMatcher=kt,t.getSerializables=C,t.isAddressToken=function(t){return j.indexOf(t)>-1},t.isBoolean=h,t.isContactField=function(t){return k.indexOf(t)>-1},t.isContactToken=function(t){return Y.indexOf(t)>-1},t.isDynamicFormControlEvent=b,t.isField=function(t){return V.indexOf(t)>-1},t.isFunction=m,t.isNumber=g,t.isObject=v,t.isSectionToken=function(t){return t.startsWith("section-")},t.isString=_,t.maskFromString=H,t.maskToString=G,t.parseReviver=$,t.serializable=T,t.serialize=F,t.validate=function(t){var e=function(t,e){return t+"|"+e},o=j.reduce(e),n=Y.reduce(e),r=V.reduce(e),i=k.reduce(e);return new RegExp("^(section-\\w+\\s{1})?(("+o+"){1}\\s)?(("+r+"){1}|(("+n+"){1}\\s{1}("+i+")))$").test(t)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=core.umd.min.js.map